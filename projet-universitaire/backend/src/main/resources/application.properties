# ============================================================
# CONFIGURATION DE L'APPLICATION - GESTION PROJETS UNIVERSITAIRES
# SUP'COM 2025-2026
# ============================================================

# --- Connexion à MongoDB ---
# URI de connexion à la base de données MongoDB
# Utilise la variable d'environnement MONGODB_URI en production, localhost en local
# Format : mongodb://host:port/nom_de_la_base ou mongodb+srv://user:pass@cluster.mongodb.net/dbname
spring.data.mongodb.uri=${MONGODB_URI:mongodb://localhost:27017/projet_universitaire_db}

# --- Configuration du serveur ---
# Port sur lequel tourne le backend Spring Boot
# Utilise la variable d'environnement PORT en production (Railway, Heroku), 8080 en local
server.port=${PORT:8080}

# --- Nom de l'application ---
spring.application.name=projet-universitaire-backend

# DEBUG en local, INFO en production
logging.level.org.springframework.data.mongodb=${LOG_LEVEL:DEBUG}

# --- CORS Configuration ---
# Permet les requêtes depuis le frontend Cloudflare Pages
# En local: http://localhost:4200, En production: définir via ALLOWED_ORIGINS
# En production, définir ALLOWED_ORIGINS (ex: https://monprojet.pages.dev)
# On autorise *.pages.dev par défaut pour simplifier les previews Cloudflare Pages
spring.web.cors.allowed-origin-patterns=${ALLOWED_ORIGINS:http://localhost:4200,http://localhost:5173,https://*.pages.dev}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true
